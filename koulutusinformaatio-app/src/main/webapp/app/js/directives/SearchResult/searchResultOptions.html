<div class="row margin-vertical-small">
    <div class="col-xs-16">
        <div class="pull-left margin-right-small margin-vertical-small">
            <form name="levelSelectionForm-{{$id}}" id="application-form-{{applicationsystem.id}}-{{$id}}" action="{{hakuAppUrl + 'lomake/' + applicationsystem.id}}" method="POST" target="hakulomake">
                <input type="hidden" name="preference1-Opetuspiste" value="{{extendedLO.lo.provider.name}}" />
                <input type="hidden" name="preference1-Opetuspiste-id" value="{{extendedLO.lo.provider.id}}" />
                <input type="hidden" name="preference1-Koulutus" value="{{applicationoption.name}}" />
                <input type="hidden" name="preference1-Koulutus-id" value="{{applicationoption.id}}" />
                <input type="hidden" name="preference1-Koulutus-educationDegree" value="{{extendedLO.lo.educationDegree}}" />
                <input type="hidden" name="preference1-Koulutus-id-sora" value="{{applicationoption.sora}}" />
                <input type="hidden" name="preference1-Koulutus-id-lang" value="{{applicationoption.teachLang}}" />
                <input type="hidden"name="preference1-Koulutus-id-athlete" value="{{provider.athleteEducation || applicationoption.athleteEducation}}" />
                <input type="hidden"name="preference1-Koulutus-id-aoIdentifier" value="{{applicationoption.aoIdentifier}}" />
                <input type="hidden"name="preference1-Koulutus-id-kaksoistutkinto" value="{{applicationoption.kaksoistutkinto}}" />
                <input type="hidden"name="preference1-Koulutus-id-vocational" value="{{applicationoption.vocational}}" />
                <input type="hidden"name="preference1-Koulutus-id-educationcode" value="{{applicationoption.educationCodeUri}}" />

                <button data-ng-if="!applicationsystem.applicationFormLink" class="btn btn-default" type="submit" data-ng-disabled="!applicationoption.canBeApplied">
                    <span data-ng-if="!applicationsystem.isLisahaku" data-ki-i18n="apply-button-label"></span>
                    <span data-ng-if="applicationsystem.isLisahaku" data-ki-i18n="apply-button-label-additional"></span>
                </button>

                <div data-ng-if="applicationsystem.applicationFormLink">
                    <a data-ng-if="applicationoption.canBeApplied" data-ng-href="{{applicationsystem.applicationFormLink}}" title="{{locales.externalApplicationForm}}" target="_blank">
                    <i class="icon-link-ext-alt"></i><span data-ki-i18n="apply-button-label"></span>
                    </a>
                    <span data-ng-if="!applicationoption.canBeApplied" class="text-disabled">
                        <i class="icon-link-ext-alt"></i><span data-ki-i18n="apply-button-label"></span>
                    </span>
                </div>
            </form>
        </div>
    
        <div data-ng-if="!applicationsystem.isLisahaku">
            <div data-sr-application-basket data-ng-switch="isItemAddedToBasket(applicationoption.id)" class="pull-left" aria-live="polite" role="status">
                <span data-ng-switch-when="true">
                    <span data-ki-i18n="popover-title-success"></span><br/>
                    <a data-set-focus-here href="#!/muistilista" data-ki-i18n="popover-content-link-to-application-basket"></a>
                </span>
                <button
                data-ng-switch-default
                type="button" 
                id="addToBasket-{{$id}}" 
                class="btn btn-primary"
                data-popover-placement="bottom" 
                data-popover="{{popoverContent}}" 
                data-popover-title="{{popoverTitle}}" 
                data-popover-trigger="click"
                data-ng-click="addToBasket(applicationoption.id)">
                    <span>
                        <span data-ki-i18n="add-to-basket-label"></span>
                    </span>
                </button>
            </div>
        </div>
    </div>
</div>

<div class="text-muted" data-ki-application-status-label data-ao="applicationoption"></div>
