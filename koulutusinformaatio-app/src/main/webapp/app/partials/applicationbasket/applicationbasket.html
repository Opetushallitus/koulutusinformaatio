<section class="container">
    <div data-ki-ajax-loader data-active="isLoading"></div>
    <div class="hide-in-print row">
        <div class="col-md-16">
            <div data-ki-breadcrumb="title-application-basket-content" id="breadcrumb" class="pull-left"></div>
            <a class="pull-right" href="#!/haku/{{queryString}}" data-ki-i18n="application-basket-back"></a>
        </div>
    </div>
    <img class="show-only-in-print" data-ng-src="{{images.logo}}"/>
    <div class="row margin-vertical-small">
        <div class="col-xs-8">
            <h1>{{title}} ({{itemCount}})</h1>
        </div>
        <div class="col-xs-8">
            <button class="btn btn-info pull-right margin-top-default hide-in-print" onclick="window.print();"><i class="icon-print"> </i><span data-ki-i18n="print"></span></button>
        </div>
    </div>
    <div class="hide-in-print column-container">
        <div data-ng-class="{'column-50-procent': emailSendingEnabled}">
            <div data-ng-if="showAlert()" data-alert type="warning" data-close="closeAlert()">
                <div class="alert-heading">
                    <h3 class="alert-title" data-ki-i18n="appbasket:alert-title"></h3>
                </div>
                <p data-ki-i18n="appbasket:alert-paragraph-1"></p>
                <ul>
                    <li data-ki-i18n="appbasket:alert-bullet-1"></li>
                    <li data-ki-i18n="appbasket:alert-bullet-2"></li>
                    <li data-ki-i18n="appbasket:alert-bullet-3"></li>
                    <li data-ki-i18n="appbasket:alert-bullet-4"></li>
                </ul>
                <p>
                    <a data-ng-if="!isStudyInfo" data-ng-href="{{loginUrl}}" data-ki-i18n="appbasket:alert-link"></a>
                    <span data-ki-i18n="appbasket:alert-paragraph-2"></span>
                </p>
            </div>
        </div>
        <form data-ng-if="emailSendingEnabled" data-ng-class="{'column-50-procent': showAlert()}" novalidate name="muistilistaEmailForm" data-ng-submit="sendMuistilista()">
            <h3>Lähetä muistilista sähköpostitse</h3>
            <table class="table table-responsive table-condensed table-no-lines table-th-left-column">
                <tr><th>Lähettäjän nimi:</th><td><input type="text" size="50" name="emailFrom" data-ng-model="email.from"/></td></tr>
                <tr><th>Otsikko:<span class="required">*</span></th><td><input type="text" size="50" name="emailSubject" data-ng-model="email.subject" required/><span class="error" data-ng-show="muistilistaEmailForm.emailSubject.$error.required">Pakollinen tieto</span></td></tr>
                <tr><th>Vastaanottaja(t):<span class="required">*</span></th><td><input type="text" data-ki-multiple-emails size="50" name="emailTo" data-ng-model="email.to" required/>
                    <span class="error" data-ng-show="muistilistaEmailForm.emailTo.$dirty && muistilistaEmailForm.emailTo.$error.multipleEmails">Virheellinen arvo. Anna sähköpostiosoitteet "," tai ";" merkeillä eroteltuina</span>
                    <span data-ng-show="muistilistaEmailForm.emailTo.$dirty && muistilistaEmailForm.emailTo.$valid">{{email.to.length}} kpl</span>
                </td></tr>
                <tr><td></td><td><button type="submit" data-ng-disabled="muistilistaEmailForm.$invalid || emailStatus.sending" class="btn btn-info">Lähetä</button>
                    <span data-ng-show="emailStatus.ok">Viesti lähetetty</span><span class="error" data-ng-show="emailStatus.error">Lähetettäessä tapahtui odottomaton virhe, yritä hetken päästä uudelleen</span>
                </td></tr>
            </table>
        </form>
    </div>
    <p class="hide-in-print" data-ki-i18n="application-basket-description"></p>
    <div data-ng-switch="basketIsEmpty">
        <div data-ng-switch-when="true">
            <p data-ki-i18n="application-basket-no-content"></p>
        </div>
        <div data-ng-switch="false">
            <div data-ki-app-basket-applicationsystem data-items="applicationItems">
                <div data-ki-app-basket-applicationsystem-table></div>
            </div>
        </div>
    </div>
</section>