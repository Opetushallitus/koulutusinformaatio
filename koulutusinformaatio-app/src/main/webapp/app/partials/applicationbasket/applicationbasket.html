<section class="content-container margin-bottom-2">
    <div class="grid16-16 application-basket-container">
        <div id="breadcrumb" class="float-left">
            <ul>
                <li class="breadcrumb-item home">
                    <a href="#"></a>
                </li>
                <li class="breadcrumb-item" data-ki-i18n="title-application-basket-content"></li>
            </ul>
        </div>
        <a class="float-right" href="#/haku/{{queryString}}" data-ki-i18n="application-basket-back"></a>
        <div class="clear"></clear>
        <h1 class="float-left margin-top-0">{{title}} ({{itemCount}})</h1>
        <div class="clear"></div>
        <p data-ki-i18n="application-basket-description"></p>
        <div data-ng-switch="basketIsEmpty">
            <div data-ng-switch-when="true">
                <p data-ki-i18n="application-basket-no-content"></p>
            </div>
            <div data-ng-switch="false">
                <div class="application-basket margin-bottom-6" data-ng-repeat="as in applicationItems">
                    <table class="margin-bottom-2">
                        <colgroup>
                            <col style="width: 33%;"></col>
                            <col style="width: 47%;"></col>
                            <col></col>
                            <col></col>
                        </colgroup>
                        <thead>
                            <tr>
                                <th colspan="4"><span class="margin-0 block h2">{{as.applicationSystemName}} <span data-ki-timestamp="{{as.applicationDates.startDate}}"></span> - <span data-ki-timestamp="{{as.applicationDates.endDate}}"></span></span></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="item in as.applicationOptions" data-ng-class="rowClass($last)">
                                <td>
                                    <ul>
                                        <li>
                                            <h4 class="margin-top-0">
                                                <span class="block">{{item.providerName}}, {{item.providerLocation}}</span>
                                                <a href="#/tutkinto/{{item.parent.id}}">{{item.parent.name}}</a>
                                            </h4>
                                        </li>
                                        <li><span>{{item.qualification}}</span></li>
                                        <li><span>{{item.prerequisite.description}}</span></li>
                                    </ul>
                                </td>
                                <td>
                                    <ul class="disc">
                                        <li data-ng-repeat="child in item.children"><a href="#/koulutusohjelma/{{child.childLOId}}">{{child.name}}</a></li>
                                    </ul>
                                </td>
                                <td class="align-right">
                                    <ul>
                                        <li data-ng-repeat="dl in item.deadlines">{{dl.name}}<span class="bold margin-left-2" data-ki-timestamp="{{item.attachmentDeliveryDeadline}}"></span></li>
                                        <!--<li>Liitteet<span class="bold margin-left-2" data-ki-timestamp="{{item.attachmentDeliveryDeadline}}"></span></li>-->
                                    </ul>
                                </td>
                                <td class="basket-remove last">
                                    <a class="remove" data-ng-click="removeItem(item.id)">
                                        <span>Poista</span>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                        </tfoot>
                    </table>
                    <span class="float-right margin-bottom-2">{{notificationText}}</span>
                    <form action="/haku-app/lomake/{{as.applicationSystemId}}" method="post">
                        <span data-ng-repeat="item in as.applicationOptions">
                            <input type="hidden" name="preference{{$index + 1}}-Opetuspiste" value="{{item.providerName}}"/>
                            <input type="hidden" name="preference{{$index + 1}}-Opetuspiste-id" value="{{item.providerId}}"/>
                            <input type="hidden" name="preference{{$index + 1}}-Koulutus-id-athlete" value="{{item.athleteEducation}}"/>
                            <input type="hidden" name="preference{{$index + 1}}-Koulutus" value="{{item.name}}"/>
                            <input type="hidden" name="preference{{$index + 1}}-Koulutus-id" value="{{item.id}}"/>
                            <input type="hidden" name="preference{{$index + 1}}-Koulutus-educationDegree" value="{{item.educationDegree}}"/>
                            <input type="hidden" name="preference{{$index + 1}}-Koulutus-id-sora" value="{{item.sora}}" />
                            <input type="hidden" name="preference{{$index + 1}}-Koulutus-id-lang" value="{{item.teachLang}}" />
                        </span>
                        <div class="action-area">
                            <div data-ng-switch="applyButtonIsDisabled(as.applicationSystemId)" class="clear float-right">
                                <div data-ng-switch-when="true">
                                    <button class="primary" disabled="disabled" type="submit">
                                        <span>
                                            <span data-ki-i18n="application-basket-fill-form"></span>
                                        </span>
                                    </button>
                                </div>
                                <div data-ng-switch-when="false">
                                    <button class="primary" type="submit">
                                        <span>
                                            <span data-ki-i18n="application-basket-fill-form"></span>
                                        </span>
                                    </button>
                                </div>
                            </div>
                            <a data-ng-click="emptyApplicationBasket()" data-ki-i18n="application-basket-empty" class="float-right block"></a>
                        </div>
                    </form>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
    </div>
<div class="clear"></div>
</section>