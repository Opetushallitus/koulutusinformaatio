package fi.vm.sade.koulutusinformaatio.converter;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;
import static org.junit.Assert.assertTrue;
import static org.junit.Assert.fail;
import static org.mockito.Matchers.isNull;
import static org.mockito.Matchers.startsWith;
import static org.mockito.Mockito.mock;
import static org.mockito.Mockito.when;

import org.codehaus.jackson.map.ObjectMapper;
import org.junit.Before;
import org.junit.Test;

import fi.vm.sade.koulutusinformaatio.domain.Provider;
import fi.vm.sade.koulutusinformaatio.service.KoodistoService;
import fi.vm.sade.organisaatio.resource.dto.OrganisaatioRDTO;

public class OrganisaatioRDTOToProviderTest {
    private static final String KIELI_CODE_VALUE = "kielicodevalue";
    private static final String KUNTA_CODE_VALUE = "kuntacodevalue";
    private static final String MAA_CODE_VALUE = "maacodevalue";
    private static final String OPPILAITOS_CODE_VALUE = "oppilaitoscodevalue";
    private static final String SOME_CODE_VALUE = "somecodevalue";
    private OrganisaatioRDTOToProvider converter;
    private KoodistoService koodistoService;

    @Before
    public void setUp() {
        koodistoService = mock(KoodistoService.class);
        converter = new OrganisaatioRDTOToProvider(koodistoService);
    }

    @Test
    public void basicTest() {
        Provider p = null;
        try {

            String organisaatioAsJSON = "{\"oid\":\"1.2.246.562.10.56753942459\",\"nimi\":{\"fi\":\"Aalto-yliopisto\",\"sv\":\"Aalto-universitetet\",\"en\":\"Aalto University\"},\"metadata\":{\"nimi\":{},\"yhteystiedot\":[{\"osoiteTyyppi\":\"kaynti\",\"kieli\":\"kieli_fi#1\",\"id\":\"563748\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712385466962803\",\"osoite\":\"Otakaari 1\",\"postinumeroUri\":\"posti_02150\",\"postitoimipaikka\":\"ESPOO\",\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"osoiteTyyppi\":\"posti\",\"kieli\":\"kieli_fi#1\",\"id\":\"563749\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712385466912118\",\"osoite\":\"PL 11110\",\"postinumeroUri\":\"posti_00076\",\"postitoimipaikka\":\"AALTO\",\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"kieli\":\"kieli_fi#1\",\"id\":\"563750\",\"yhteystietoOid\":\"13977275346670.8188573278043573\",\"email\":\"hakijapalvelut@aalto.fi\"},{\"kieli\":\"kieli_fi#1\",\"id\":\"563751\",\"yhteystietoOid\":\"13977275346670.09837671692410388\",\"www\":\"http://www.aalto.fi/studies\"},{\"tyyppi\":\"puhelin\",\"kieli\":\"kieli_fi#1\",\"id\":\"563752\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712385466938353\",\"numero\":\"050 361 6430\"},{\"osoiteTyyppi\":\"kaynti\",\"kieli\":\"kieli_sv#1\",\"id\":\"563753\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712401409062119\",\"osoite\":\"Otsvängen 1\",\"postinumeroUri\":\"posti_02150\",\"postitoimipaikka\":\"ESBO\",\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"osoiteTyyppi\":\"posti\",\"kieli\":\"kieli_sv#1\",\"id\":\"563754\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712401409094693\",\"osoite\":\"PB 11110\",\"postinumeroUri\":\"posti_00076\",\"postitoimipaikka\":\"AALTO\",\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"kieli\":\"kieli_sv#1\",\"id\":\"563755\",\"yhteystietoOid\":\"13977276140890.6211087577047182\",\"email\":\"ansokningsservice@aalto.fi\"},{\"kieli\":\"kieli_sv#1\",\"id\":\"563756\",\"yhteystietoOid\":\"13977276140890.9017167942293391\",\"www\":\"http://www.aalto.fi/sv/studies\"},{\"tyyppi\":\"puhelin\",\"kieli\":\"kieli_sv#1\",\"id\":\"563757\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712401409098278\",\"numero\":\"050 361 6430\"},{\"osoiteTyyppi\":\"ulkomainen_kaynti\",\"kieli\":\"kieli_en#1\",\"id\":\"563758\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712413250616688\",\"osoite\":\"Otakaari 1\\nFI-02150 Espoo\\nFinland\",\"postinumeroUri\":null,\"postitoimipaikka\":null,\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"osoiteTyyppi\":\"ulkomainen_posti\",\"kieli\":\"kieli_en#1\",\"id\":\"563759\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712413250620464\",\"osoite\":\"P.O. Box. 11110\\nFI-00076 Aalto\\nFinland\",\"postinumeroUri\":null,\"postitoimipaikka\":null,\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"kieli\":\"kieli_en#1\",\"id\":\"563760\",\"yhteystietoOid\":\"13977276925040.32700196813152316\",\"email\":\"admissions@aalto.fi\"},{\"kieli\":\"kieli_en#1\",\"id\":\"563761\",\"yhteystietoOid\":\"13977276925040.634430837833946\",\"www\":\"http://www.aalto.fi/en/studies\"},{\"tyyppi\":\"puhelin\",\"kieli\":\"kieli_en#1\",\"id\":\"563762\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712413250627472\",\"numero\":\"+358503616430\"}],\"hakutoimistoEctsNimi\":{},\"hakutoimistoEctsEmail\":{},\"hakutoimistoEctsPuhelin\":{},\"hakutoimistoEctsTehtavanimike\":{},\"luontiPvm\":1395650766387,\"muokkausPvm\":1395650766387,\"hakutoimistonNimi\":{\"kieli_fi#1\":\"Aalto-yliopiston hakijapalvelut\",\"kieli_en#1\":\"Aalto University Admission Services\",\"kieli_sv#1\":\"Aalto-universitetets ansökningsservice\"},\"data\":{\"VALINTAMENETTELY\":{},\"SAHKOPOSTIOSOITE\":{},\"VAPAA_AIKA\":{},\"sosiaalinenmedia_4#1\":{\"kieli_fi#1\":\"https://twitter.com/AaltoUniversity\",\"kieli_en#1\":\"https://twitter.com/AaltoUniversity\",\"kieli_sv#1\":\"https://twitter.com/AaltoUniversity\"},\"RAHOITUS\":{},\"OPISKELIJALIIKUNTA\":{},\"AIEMMIN_HANKITTU_OSAAMINEN\":{},\"sosiaalinenmedia_3#1\":{},\"NIMI\":{},\"PUHELINNUMERO\":{},\"OPISKELIJALIIKKUVUUS\":{},\"OPPIMISYMPARISTO\":{},\"KANSAINVALISET_KOULUTUSOHJELMAT\":{},\"TEHTAVANIMIKE\":{},\"OPISKELIJARUOKAILU\":{},\"TIETOA_ASUMISESTA\":{},\"sosiaalinenmedia_5#1\":{\"kieli_fi#1\":\"http://www.youtube.com/aaltouniversity\",\"kieli_en#1\":\"http://www.youtube.com/aaltouniversity\",\"kieli_sv#1\":\"http://www.youtube.com/aaltouniversity\"},\"ESTEETOMYYS\":{\"kieli_fi#1\":\"<p>Aalto-yliopistossa opetus ja tutkimus kehittyvät parhaiten yhteisössä, jossa saavutettavuus on huomioitu.</p> <ul> <li><a href=\\\"http://www.aalto.fi/fi/about/strategy/accessibility/\\\">Lue lisää saavutettavuudesta Aallosta</a> </li> </ul> <p>Aalto-yliopiston valinnat pyritään järjestemään esteettömästi ja esimerkiksi on mahdollista saada tiettyjä erityisjärjestelyitä esimerkiksi valintakokeisiin.</p> <ul> <li><a href=\\\"http://www.aalto.fi/fi/studies/admissions/erityisjarjestelyt_valinnoissa/\\\">Lue lisää erityisjärjestelyistä ja esteettömyydestä valinnoissa</a> </li> </ul> <p>Opiskelijoidemme käytettävissä on laaja kirjo palveluita aina opintoneuvonnasta ja opintojen suunnittelun tuesta IT- ja kirjastopalveluihin.</p> <ul> <li><a href=\\\"http://www.aalto.fi/fi/studies/about/student_services/\\\">Lue lisää opiskelijapalveluistamme</a> </li> </ul>\",\"kieli_en#1\":\"<p>Teaching and research can be best developed in a multifaceted, accessible and creative community.</p> <ul> <li><a href=\\\"http://www.aalto.fi/en/about/strategy/accessibility/\\\">Read more about Aalto University as an accessible university</a></li> </ul> <p>Aalto students have access to a large spectrum of services from study counselling and support in the planning of studies to housing and physical recreation services.</p> <ul> <li><a href=\\\"http://www.aalto.fi/en/studies/about/student_services/\\\">Read more about Aalto University's student services</a></li> </ul>\",\"kieli_sv#1\":\"<p>Vid Aalto-universitetet tror vi att undervisning och forskning utvecklas bäst i ett mångfasetterat, tillgängligt och kreativt samfund.</p> <ul> <li><a href=\\\"http://www.aalto.fi/sv/about/strategy/accessibility/\\\">Läs mer om Aalto-universitetet som ett tillgängligt universtet</a></li> </ul> <p>Aalto-universitetets studerande har tillgång till ett brett spektrum av tjänster, alltifrån studierådgivning och planeringsstöd till boende- och motionstjänster.</p> <ul> <li><a href=\\\"http://www.aalto.fi/sv/studies/about/student_services/\\\">Läs mer om Aalto-universitetets tjänster för studerande</a></li> </ul>\"},\"TERVEYDENHUOLTOPALVELUT\":{},\"sosiaalinenmedia_1#1\":{\"kieli_fi#1\":\"https://www.facebook.com/AaltoUniversity\",\"kieli_en#1\":\"https://www.facebook.com/AaltoUniversity\",\"kieli_sv#1\":\"https://www.facebook.com/AaltoUniversity\"},\"sosiaalinenmedia_2#1\":{},\"VASTUUHENKILOT\":{},\"VAKUUTUKSET\":{},\"KIELIOPINNOT\":{},\"VUOSIKELLO\":{\"kieli_fi#1\":\"<p>Aalto-yliopiston lukuvuosi jakautuu kahteen lukukauteen, joista syyslukukaudella on kaksi seitsemän viikon mittaista opetusperiodia ja kevätlukukaudella on kolme opetusperiodia. Lukukausi alkaa yleensä elo-syyskuun vaihteessa ja päättyy toukokuun lopussa. Kesä- ja heinäkuussa järjestetään erillinen kesäopetusjakso.</p> <ul> <li><a href=\\\"https://into.aalto.fi/\\\">Lisätietoa lukuvuosikalentereista löydät opiskelijoille suunnatusta Into-portaalistamme</a></li> </ul>\",\"kieli_en#1\":\"<p>The academic year at Aalto University is divided into two semesters. During autumn term there are two teaching periods, seven weeks each and during spring term there are three teaching periods. The academic year starts in the beginning of September and ends in May. A summer teaching period is organised from June to August.</p> <ul> <li><a href=\\\"https://into.aalto.fi/display/en/Homepage\\\">Read more about Aalto University's Academic calendar in Into - portal for Aalto students</a></li> </ul>\",\"kieli_sv#1\":\"<p>Läsåret vid Aalto-universitetet är uppdelat i två terminer. Under höstterminen finns det två undervisningsperioder och under vårterminen finns det tre undervisningsperioder. Läsåret börjar i början av september och slutar i slutet av maj. Från juni till augusti ordnas det skild sommarundervisning.</p> <ul> <li><a href=\\\"https://into.aalto.fi/display/sv/Startsida\\\">Läs mer om läsårskalender i Into, portal för Aalto studerande</a></li> </ul>\"},\"YLEISKUVAUS\":{\"kieli_fi#1\":\"<p>Aalto-yliopisto tarjoaa yli 100 alempaan tai ylempään korkeakoulututkintoon johtavaa hakukohdetta kauppatieteen, taiteen ja muotoilun sekä tekniikan ja arkkitehtuurin aloilta. Aallosta voit valmistua kauppatieteen, taiteen ja tekniikan kandidaatiksi sekä arkkitehdiksi, diplomi-insinööriksi, kauppatieteiden tai taiteen maisteriksi tai maisema-arkkitehdiksi.</p> <p>Aalto-yliopiston muodostaa kuusi korkeakoulua: Insinööritieteiden korkeakoulu, Kauppakorkeakoulu, Kemian tekniikan korkeakoulu, Perustieteiden korkeakoulu, Sähkötekniikan korkeakoulu ja Taiteiden ja suunnittelun korkeakoulu.</p> <p style=\\\"\\\"><strong><a href=\\\"http://eng.aalto.fi/fi/\\\">Insinööritieteiden korkeakoulu</a></strong></p> <p style=\\\"\\\">Insinööritieteiden korkeakoulu aloitti toimintansa 1.1.2011. Sen perustana on Teknillisen korkeakoulun insinööritieteiden ja arkkitehtuurin tiedekunta. Perus- ja jatko-opiskelijoita on noin 5 300. </p> <p style=\\\"\\\"><strong><a href=\\\"http://biz.aalto.fi/fi/\\\">Kauppakorkeakoulu</a></strong></p> <p style=\\\"\\\">Kauppakorkeakoulu on Suomen johtava kauppakorkeakoulu. Se tarjoaa Suomen monipuolisimman kansainvälisen tason kauppatieteellisen opiskelu- ja tutkimusympäristön.<br /><br />Kauppakorkeakoululle on myönnetty alansa tärkeimmät kansainväliset laatuakkreditoinnit: AACSB, AMBA ja EQUIS. Lisäksi sillä on jäsenyydet alan tärkeimmissä kansainvälisissä verkostoissa.</p> <p style=\\\"\\\"><strong><a href=\\\"http://chem.aalto.fi/fi/\\\">Kemian tekniikan korkeakoulu</a></strong></p> <p style=\\\"\\\">Kemian tekniikan korkeakoulu aloitti  toimintansa 1.1.2011. Sen perustana on Teknillisen korkeakoulun kemian ja materiaalitekniikan tiedekunta. Perus- ja jatko-opiskelijoita noin 2000.</p> <p style=\\\"\\\"><strong><a href=\\\"http://sci.aalto.fi/fi/\\\">Perustieteiden korkeakoulu</a></strong></p> <p style=\\\"\\\">Perustieteiden korkeakoulun keskeinen vahvuus on korkeatasoisessa tutkimuksessa.  Korkeakoulussa toimii viisi Suomen Akatemian tutkimuksen huippuyksikköä, joista kaksi on toisen yliopiston koordinoimaa. Aalto-yliopiston vuonna 2009 teettämässä tutkimuksen arvioinnissa 18 parhaasta laitoksesta viisi ensimmäistä ja yhteensä yhdeksän oli perustieteiden korkeakoulusta. Tietotekniikan laitos toimii vuosina 2010-2012 yhtenä kansallisena korkeakouluopetuksen laatuyksikkönä.</p> <p style=\\\"\\\"><strong><a href=\\\"http://elec.aalto.fi/fi/\\\">Sähkötekniikan korkeakoulu</a></strong></p> <p style=\\\"\\\">Sähkötekniikan korkeakoulussa tehdään niin perus- kuin soveltavaakin tutkimusta, ja annetaan korkealaatuista insinöörikoulutusta. Koulun seitsemän laitosta kattavat elektroniikan, tietoliikenteen, automaation ja sähkötekniikan tutkimusalueet.</p> <p style=\\\"\\\"><strong><a href=\\\"http://arts.aalto.fi/fi/\\\">Taiteiden ja suunnittelun korkeakoulu</a></strong></p> <p style=\\\"\\\">Taiteiden ja suunnittelun korkeakoulu on muotoilun, median, arkkitehtuurin, elokuvan, taidekasvatuksen ja taiteen korkeakoulu. Opetuksessa, tutkimuksessa ja taiteellisessa toiminnassa yhteydet muuhun yhteiskuntaan, elinkeinoelämään ja kulttuurialaan ovat aktiiviset ja tiiviit.</p> <p>Aalto-yliopiston suurin kampus on Espoossa Otaniemessä, jossa mm. neljä tekniikan korkeakoulua ja osa Taiteiden ja suunnittelun korkeakoulun laitoksista toimivat. Kauppakorkeakoululla on tilat Helsingin Töölössä. Taiteiden ja suunnittelun korkeakoulun päärakennus sijaitsee Helsingin Arabiassa. Sen toiminnot siirtyvät vaiheittain Otaniemeen vuoden 2017 loppuun mennessä.</p> <p><a href=\\\"http://www.aalto.fi/fi/about/campuses/campus_maps/\\\">Tutustu kampusalueisiin aalto.fin Kampukset-osiossa</a> (aalto.fi)</p>\",\"kieli_en#1\":\"<p>At Aalto University, you have the freedom to succeed. Our university is a community of over 20 000 ambitious thinkers – a meeting point of science, arts, and business. Emphasizing the cross-disciplinary studies, we help you discover your lasting strengths in a changing world.</p> <p>Aalto University consists of six schools: School of Arts, Design and Architecture, School of Chemical Technology, School of Business, School of Electrical Engineering, School of Engineering and School of Science.</p> <p><strong><a href=\\\"http://arts.aalto.fi/en/\\\">School of Arts, Design and Architecture</a></strong></p> <p>Aalto University School of Arts, Design and Architecture was formed on 1 January 2012 when the former School of Art and Design and the Department of Architecture at the School of Engineering merged together. <em><br /></em></p> <p>The School of Arts, Design and Architecture is the largest of its kind in the Nordic countries and one of the most prestigious in the whole world. The school researches design, digital media, audiovisual presentation, art education and visual culture. The viewpoint of usefulness forms the foundation of artistic activity.</p> <p><a title=\\\"School of Business\\\" href=\\\"http://biz.aalto.fi/en/\\\"><span style=\\\"\\\"><strong>School of Business</strong></span></a></p> <p>The School of Business is one of the leading business schools in Europe and globally recognized for its management research and education in particular. It is the first Nordic business school to receive all three of the field’s international accreditations (AACSB, AMBA and EQUIS).</p> <p><strong><a href=\\\"http://chem.aalto.fi/en/\\\">School of Chemical Technology</a></strong></p> <p>Areas of emphasis for the School of Chemical Technology include environment-friendly and energy-efficient processes, the diverse utilisation of wood and other biomaterials, new materials and their application, new engine fuels, the shaping of micro-organisms and enzymes as well as novel pharmaceuticals and biomaterials.</p> <p><strong><a href=\\\"http://elec.aalto.fi/en/\\\">School of Electrical Engineering</a></strong></p> <p>Important research areas at the School of Electrical Engineering include traditional electronics, electrotechnology and telecommunications technology. Micro- and nanotechnology have also been emphasised by researchers in recent years. There are almost two dozen research units, which focus on subjects ranging from acoustics to intelligent power electronics.</p> <p><strong><a href=\\\"http://eng.aalto.fi/en/\\\">School of Engineering</a></strong></p> <p>The School of Engineering researches and teaches fields that encompass all aspects of our built environment. Climate warming, energy conservation and the sustainable utilisation of natural resources form the focal areas of both research and education.</p> <p><strong><a href=\\\"http://sci.aalto.fi/en/\\\">School of Science</a></strong></p> <p>The School of Science engages in world-class fundamental research, the results of which it uses to develop scientific and technological applications. The fields of computation and modelling, materials research as well as ICT and media account for a large share of the research performed at the School.</p> <p>Aalto University’s biggest campus, in Otaniemi, is home to four schools of technology and Departments of the School of Arts, Design and Architecture. The School of Business is based in Töölö in central Helsinki, and the School of Arts, Design and Architecture in Arabia and in Otaniemi. The plan is for the Arabia campus to move to Otaniemi in or around 2017.</p> <p><a href=\\\"http://www.aalto.fi/en/about/campuses/campus_maps/\\\">Campus maps</a></p>\",\"kieli_sv#1\":\"<p>Aalto-universitetet erbjuder över 100 ansökningsalternativ som leder till en lägre eller högre högskoleexamen inom ekonomi, konst och design samt teknik och arkitektur områdena. Från Aalto kan du utexamineras som ekonomie, konst- och teknologie kandidat samt arkitekt, diplomingenjör, ekonomie eller konstmagister eller landskapsarkitekt.</p> <p>Aalto-universitetet består av sex högskolor: Handelshögskolan, Högskolan för elektroteknik, Högskolan för kemiteknik, Högskolan för ingenjörsvetenskaper, Högskolan för konst, design och arkitektur och Högskolan för teknikvetenskaper.</p> <p><strong><a href=\\\"http://biz.aalto.fi/en/\\\">Handelshögskolan</a></strong></p> <p>Handelshögskolan grundades 1911 och är den största och ledande handelshögskolan i Finland. Handelshögskolan har alla tre internationella ackrediteringar som kan beviljas handelshögskolor (AACSB, AMBA och EQUIS).</p> <p><strong><a href=\\\"http://elec.aalto.fi/sv/\\\">Högskolan för elektroteknik</a></strong></p> <p>Elektroteknik, naturvetenskaper och informationsteknik vävs samman i Högskolan för elektroteknik till intelligenta system som sparar energi och ökar välfärden. Vi utvecklar lösningar som förbättrar livskvaliteten, från äldreomsorg till rymdrobotar. Med vår forskning söker vi svara på många av de utmaningar som en hållbar utveckling ställer.</p> <p><strong><a href=\\\"http://eng.aalto.fi/sv/\\\">Högskolan för ingenjörsvetenskaper</a></strong></p> <p>Högskolan för ingenjörsvetenskaper har särskilt till uppgift att på ett vetenskapsorienterat sätt utveckla planering och teknologier inom teknologiindustrin och den byggda miljön samt att utbilda experter med helhetssyn. Högskolans mål är att skapa ny kunskap och nya lösningar som främjar en hållbar utveckling.</p> <p>Vi erbjuder företag dynamiska forskningspartnerskap och studerande en gedigen grund för expertbefattningar och ledande poster.</p> <p><strong><a href=\\\"http://chem.aalto.fi/sv/\\\">Högskolan för kemiteknik</a></strong></p> <p>Vid Högskolan för kemiteknik kombineras naturvetenskap och ingenjörsvetenskap på ett enastående sätt. Detta möjliggör en långtgående förädling av forskningsresultaten så att de får praktiska tillämpningar och kan utmynna i färdiga produkter och processer. Varje innovation bidrar till att trygga framtiden för såväl våra förnybara som våra icke förnybara naturtillgångar.</p> <p>Högskolan utbildar ansvarsfulla experter med bred kompetens. De diplomingenjörer och teknologie doktorer som vi har utexaminerat utför ett brett spektrum av uppgifter i de största finska industribranscherna inom metall- och elektronikindustrin, träförädlingsindustrin, den kemiska industrin, läkemedelsindustrin, den biotekniska industrin och livsmedelsindustrin. Forskningen och utvecklingen får stöd av ett omfattande internationellt samarbetsnät inom den akademiska världen och industrin.</p> <p><strong><a href=\\\"http://sci.aalto.fi/sv/\\\">Högskolan för teknikvetenskaper</a></strong></p> <p>Högskolan för teknikvetenskaper erbjuder en banbrytande och tillämpad metod för tvärvetenskaplig forskning, som är nära förbunden med skolans inspirerande undervisning. Den forskning som bedrivs på skolan uppfyller alla krav i världsklass inom en rad ämnesområden. Det som skolans uppgift att med mod och ansvar utveckla sfärer av vetenskaplig kunskap och förståelse. Forskning syftar följaktligen till att möta en rad olika utmaningar inom hållbar utveckling.</p> <p>Högskolan strävar efter att utbilda högklassiga experter som har förmågan att lösa allt mer komplexa samhällsproblem som rör energi, miljö, välfärd och beslutsfattande. Många av högskolans diplomingenjörer och tekn. dr fortsätter att arbeta med ledarskap och specialistpositioner i finska företag.</p> <p><strong><a href=\\\"http://arts.aalto.fi/sv/\\\">Högskolan för konst,design och arkitektur</a></strong></p> <p>Aalto-universitetets högskola för konst, design och arkitektur som bildas av Konstindustriella högskolan och institutionen för arkitektur vid Högskolan för ingenjörsvetenskaper, inledde sin verksamhet den första januari 2012.</p> <p>Aalto-universitetets största campus finns i Otnäs i Esbo, där bl.a. de fyra tekniska högskolorna finns. Handelshögskolans lokaler finns i Tölö i Helsingfors. Högskolan för konst, design och arkitektur ligger nu delvis i Arabia i Helsingfors och i Otnäs Esbo, men dess verksamheter flyttar till en ny byggnad i Otnäs cirka år 2017. Aalto-universitetet har också verksamhet i S:t Michel, Vasa och Björneborg.</p> <p><a href=\\\"http://www.aalto.fi/sv/about/contact/\\\">Kampuskartor</a></p> <p> </p>\"},\"KUSTANNUKSET\":{},\"OPISKELIJA_JARJESTOT\":{},\"TYOHARJOITTELU\":{}}},\"alkuPvm\":\"2010-01-01\",\"postiosoite\":{\"osoiteTyyppi\":\"posti\",\"yhteystietoOid\":\"1.2.246.562.5.11101255088\",\"postinumeroUri\":\"posti_02150\",\"osoite\":\"PL 17800\",\"postitoimipaikka\":\"ESPOO\",\"ytjPaivitysPvm\":null,\"lng\":null,\"lap\":null,\"coordinateType\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},\"parentOid\":\"1.2.246.562.10.82388989657\",\"parentOidPath\":\"|1.2.246.562.10.00000000001|1.2.246.562.10.82388989657|\",\"vuosiluokat\":[],\"oppilaitosKoodi\":\"10076\",\"kieletUris\":[\"oppilaitoksenopetuskieli_1#1\",\"oppilaitoksenopetuskieli_2#1\",\"oppilaitoksenopetuskieli_4#1\"],\"oppilaitosTyyppiUri\":\"oppilaitostyyppi_42#1\",\"yhteystiedot\":[{\"tyyppi\":\"puhelin\",\"kieli\":\"kieli_fi#1\",\"id\":\"563763\",\"yhteystietoOid\":\"1.2.246.562.5.148410407610\",\"numero\":\"09  47001\"},{\"kieli\":\"kieli_fi#1\",\"id\":\"563764\",\"yhteystietoOid\":\"1.2.246.562.5.91862370631\",\"www\":\"http://www.aalto.fi/\"},{\"osoiteTyyppi\":\"posti\",\"kieli\":\"kieli_fi#1\",\"id\":\"563765\",\"yhteystietoOid\":\"1.2.246.562.5.11101255088\",\"osoite\":\"PL 17800\",\"postinumeroUri\":\"posti_02150\",\"postitoimipaikka\":\"ESPOO\",\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"osoiteTyyppi\":\"kaynti\",\"kieli\":\"kieli_fi#1\",\"id\":\"563766\",\"yhteystietoOid\":\"1.2.246.562.5.71229398194\",\"osoite\":\"Lämpömiehenkuja 3\",\"postinumeroUri\":\"posti_02150\",\"postitoimipaikka\":\"ESPOO\",\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"kieli\":\"kieli_fi#1\",\"id\":\"563767\",\"yhteystietoOid\":\"1.2.246.562.5.2014032410460572795030\",\"email\":\"reception@aalto.fi\"},{\"osoiteTyyppi\":\"kaynti\",\"kieli\":\"kieli_sv#1\",\"id\":\"563768\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712441998389679\",\"osoite\":\"Värmemansgränden 2\",\"postinumeroUri\":\"posti_02150\",\"postitoimipaikka\":\"ESBO\",\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"osoiteTyyppi\":\"posti\",\"kieli\":\"kieli_sv#1\",\"id\":\"563769\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712441998347411\",\"osoite\":\"PB 17800\",\"postinumeroUri\":\"posti_00076\",\"postitoimipaikka\":\"AALTO\",\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"kieli\":\"kieli_sv#1\",\"id\":\"563770\",\"yhteystietoOid\":\"13977278599820.24009499744648388\",\"email\":\"reception@aalto.fi\"},{\"kieli\":\"kieli_sv#1\",\"id\":\"563771\",\"yhteystietoOid\":\"13977278599820.439613666427096\",\"www\":\"http://www.aalto.fi/sv\"},{\"tyyppi\":\"puhelin\",\"kieli\":\"kieli_sv#1\",\"id\":\"563772\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712441998347868\",\"numero\":\"09 47001\"},{\"osoiteTyyppi\":\"ulkomainen_kaynti\",\"kieli\":\"kieli_en#1\",\"id\":\"563773\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712441998318112\",\"osoite\":\"Lämpömiehenkuja 2\\nFI-02150 Espoo\\nFinland\",\"postinumeroUri\":null,\"postitoimipaikka\":null,\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"osoiteTyyppi\":\"ulkomainen_posti\",\"kieli\":\"kieli_en#1\",\"id\":\"563774\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712441998349381\",\"osoite\":\"P.O. Box 17800\\nFI-00076 Aalto\\nFinland\",\"postinumeroUri\":null,\"postitoimipaikka\":null,\"ytjPaivitysPvm\":null,\"coordinateType\":null,\"lap\":null,\"lng\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},{\"kieli\":\"kieli_en#1\",\"id\":\"563775\",\"yhteystietoOid\":\"13977278599820.6626476491414875\",\"email\":\"reception@aalto.fi\"},{\"kieli\":\"kieli_en#1\",\"id\":\"563776\",\"yhteystietoOid\":\"13977278599820.3504394563753592\",\"www\":\"http://www.aalto.fi/en\"},{\"tyyppi\":\"puhelin\",\"kieli\":\"kieli_en#1\",\"id\":\"563777\",\"yhteystietoOid\":\"1.2.246.562.5.2014041712441998418443\",\"numero\":\"+358947001\"}],\"kuvaus2\":{},\"tyypit\":[\"Oppilaitos\"],\"yhteystietoArvos\":[],\"nimet\":[{\"nimi\":{\"fi\":\"Aalto-yliopisto\",\"sv\":\"Aalto-universitetet\",\"en\":\"Aalto University\"},\"alkuPvm\":\"2010-01-01\",\"version\":1}],\"ryhmatyypit\":[],\"kayttoryhmat\":[],\"kotipaikkaUri\":\"kunta_091\",\"maaUri\":\"maatjavaltiot1_fin\",\"toimipistekoodi\":\"10076\",\"kayntiosoite\":{\"osoiteTyyppi\":\"kaynti\",\"yhteystietoOid\":\"1.2.246.562.5.71229398194\",\"postinumeroUri\":\"posti_02150\",\"osoite\":\"Lämpömiehenkuja 3\",\"postitoimipaikka\":\"ESPOO\",\"ytjPaivitysPvm\":null,\"lng\":null,\"lap\":null,\"coordinateType\":null,\"osavaltio\":null,\"extraRivi\":null,\"maaUri\":null},\"version\":51,\"status\":\"AKTIIVINEN\"}";

            ObjectMapper mapper = new ObjectMapper();
            OrganisaatioRDTO o = mapper.readValue(organisaatioAsJSON, OrganisaatioRDTO.class);

            when(koodistoService.searchFirstCodeValue((String) isNull())).thenReturn(null);
            when(koodistoService.searchFirstCodeValue(startsWith("kieli_"))).thenReturn(KIELI_CODE_VALUE);
            when(koodistoService.searchFirstCodeValue(startsWith("kunta_"))).thenReturn(KUNTA_CODE_VALUE);
            when(koodistoService.searchFirstCodeValue(startsWith("maatjavaltiot1_"))).thenReturn(MAA_CODE_VALUE);
            when(koodistoService.searchFirstCodeValue(startsWith("oppilaitostyyppi_"))).thenReturn(OPPILAITOS_CODE_VALUE);
            when(koodistoService.searchFirstCodeValue(startsWith("sosiaalinenmedia_"))).thenReturn(SOME_CODE_VALUE);

            p = converter.convert(o);
        } catch (Exception e) {
            e.printStackTrace();
            fail(e.getMessage());
        }
        assertNotNull(p);
        assertTrue(p.getApplicationOffice().getEmail().getTranslations().containsKey(KIELI_CODE_VALUE));
        assertTrue(p.getDescription().getTranslations().containsKey(KIELI_CODE_VALUE));
        assertTrue(p.getName().getTranslations().containsKey("fi"));
        assertTrue(p.getEmail().getTranslations().containsKey(KIELI_CODE_VALUE));

        assertEquals("twitter", p.getSocial().get(0).getName());
        assertEquals("muu", p.getSocial().get(1).getName());
        assertEquals("facebook", p.getSocial().get(2).getName());
        assertEquals("https://twitter.com/AaltoUniversity", p.getSocial().get(0).getUrl());
        assertEquals("http://www.youtube.com/aaltouniversity", p.getSocial().get(1).getUrl());
        assertEquals("https://www.facebook.com/AaltoUniversity", p.getSocial().get(2).getUrl());

    }

}
